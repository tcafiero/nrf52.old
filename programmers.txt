jlink.name=J-Link IoThingsWare
jlink.communication=USB
jlink.protocol=jlink
jlink.program.protocol=jlink
jlink.program.tool=openocd
jlink.program.setup_command=transport select swd; set WORKAREASIZE 0;

stlink.name=ST-Link V2 IoThingsWare
stlink.communication=USB
stlink.protocol=stlink-v2
stlink.program.protocol=stlink-v2
stlink.program.tool=openocd
stlink.program.setup_command=transport select hla_swd; set WORKAREASIZE 0x4000;

cmsisdap.name=CMSIS-DAP IoThingsWare
cmsisdap.communication=USB
cmsisdap.protocol=cmsis-dap
cmsisdap.program.protocol=cmsis-dap
cmsisdap.program.tool=openocd
cmsisdap.program.setup_command=;


#**********************************************
# Jlink with nrfjprog to burn bootloader
#**********************************************
nrfjprog.name=J-Link for IoThingsWare nRF52
nrfjprog.program.tool=nrfjprog
nrfjprog.program.path={runtime.platform.path}/tools/nrfjprog/9.4.0/
#nrfjprog.program.path=
nrfjprog.program.cmd=nrfjprog
nrfjprog.program.cmd.windows=nrfjprog.exe

nrfjprog.program.pattern="{program.path}{program.cmd}" --program "{runtime.platform.path}/bin/bootloader/{build.variant}/{build.bootfile}.hex" -f nrf52 --chiperase --reset

#**********************************************
# nrfutil to upgrade bootloader
# # Note : For MacOS, make a symlink to /usr/local/bin/nrfutil if installed to other location
#**********************************************
nrfutil_boot.name=Bootloader DFU IoThingsWare nrf52
nrfutil_boot.program.tool=bootburn
nrfutil_boot.program.cmd=nrfutil
nrfutil_boot.program.cmd.windows={runtime.platform.path}/tools/nrfutil-0.5.2/binaries/win32/nrfutil.exe
nrfutil_boot.program.cmd.macosx=/usr/local/bin/nrfutil

nrfutil_boot.program.pattern={program.cmd} --verbose dfu serial -pkg "{runtime.platform.path}/bin/bootloader/{build.variant}/{build.bootfile}.zip" -p {serial.port} -b 115200
